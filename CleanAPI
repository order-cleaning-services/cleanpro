{"swagger": "2.0", "info": {"title": "Cleanpro API", "description": "Документация для приложения cleanpro", "contact": {"email": "admin@cleanpro.ru"}, "license": {"name": "BSD License"}, "version": "v1"}, "host": "127.0.0.1:8000", "schemes": ["http"], "basePath": "/", "consumes": ["application/json"], "produces": ["application/json"], "securityDefinitions": {"Basic": {"type": "basic"}}, "security": [{"Basic": []}], "paths": {"/auth/token/login/": {"post": {"operationId": "auth_token_login_create", "description": "Use this endpoint to obtain user authentication token.", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/TokenCreate"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/TokenCreate"}}}, "tags": ["auth"]}, "parameters": []}, "/auth/token/logout/": {"post": {"operationId": "auth_token_logout_create", "description": "Use this endpoint to logout user (remove user authentication token).", "parameters": [], "responses": {"201": {"description": ""}}, "tags": ["auth"]}, "parameters": []}, "/confirm_mail/": {"post": {"operationId": "confirm_mail_create", "description": "", "parameters": [], "responses": {"201": {"description": ""}}, "tags": ["confirm_mail"]}, "parameters": []}, "/order_create/": {"post": {"operationId": "order_create_create", "description": "", "parameters": [], "responses": {"201": {"description": ""}}, "tags": ["order_create"]}, "parameters": []}, "/orders/": {"get": {"operationId": "orders_list", "description": "", "parameters": [{"name": "page", "in": "query", "description": "A page number within the paginated result set.", "required": false, "type": "integer"}], "responses": {"200": {"description": "", "schema": {"required": ["count", "results"], "type": "object", "properties": {"count": {"type": "integer"}, "next": {"type": "string", "format": "uri", "x-nullable": true}, "previous": {"type": "string", "format": "uri", "x-nullable": true}, "results": {"type": "array", "items": {"$ref": "#/definitions/GetOrder"}}}}}}, "tags": ["orders"]}, "post": {"operationId": "orders_create", "description": "", "parameters": [], "responses": {"201": {"description": ""}}, "tags": ["orders"]}, "parameters": []}, "/orders/{id}/": {"get": {"operationId": "orders_read", "description": "", "parameters": [], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/GetOrder"}}}, "tags": ["orders"]}, "put": {"operationId": "orders_update", "description": "", "parameters": [], "responses": {"200": {"description": ""}}, "tags": ["orders"]}, "patch": {"operationId": "orders_partial_update", "description": "", "parameters": [], "responses": {"200": {"description": ""}}, "tags": ["orders"]}, "delete": {"operationId": "orders_delete", "description": "", "parameters": [], "responses": {"204": {"description": ""}}, "tags": ["orders"]}, "parameters": [{"name": "id", "in": "path", "description": "A unique integer value identifying this order.", "required": true, "type": "integer"}]}, "/orders/{id}/cancell/": {"patch": {"operationId": "orders_cancell", "description": "", "parameters": [], "responses": {"200": {"description": ""}}, "tags": ["orders"]}, "parameters": [{"name": "id", "in": "path", "description": "A unique integer value identifying this order.", "required": true, "type": "integer"}]}, "/orders/{id}/change_datetime/": {"patch": {"operationId": "orders_change_datetime", "description": "", "parameters": [], "responses": {"200": {"description": ""}}, "tags": ["orders"]}, "parameters": [{"name": "id", "in": "path", "description": "A unique integer value identifying this order.", "required": true, "type": "integer"}]}, "/orders/{id}/change_status/": {"patch": {"operationId": "orders_change_status", "description": "", "parameters": [], "responses": {"200": {"description": ""}}, "tags": ["orders"]}, "parameters": [{"name": "id", "in": "path", "description": "A unique integer value identifying this order.", "required": true, "type": "integer"}]}, "/orders/{id}/comment/": {"patch": {"operationId": "orders_comment", "description": "", "parameters": [], "responses": {"200": {"description": ""}}, "tags": ["orders"]}, "parameters": [{"name": "id", "in": "path", "description": "A unique integer value identifying this order.", "required": true, "type": "integer"}]}, "/orders/{id}/pay/": {"patch": {"operationId": "orders_pay", "description": "", "parameters": [], "responses": {"200": {"description": ""}}, "tags": ["orders"]}, "parameters": [{"name": "id", "in": "path", "description": "A unique integer value identifying this order.", "required": true, "type": "integer"}]}, "/orders/{order_id}/rating/": {"get": {"operationId": "orders_rating_list", "description": "", "parameters": [{"name": "page", "in": "query", "description": "A page number within the paginated result set.", "required": false, "type": "integer"}], "responses": {"200": {"description": "", "schema": {"required": ["count", "results"], "type": "object", "properties": {"count": {"type": "integer"}, "next": {"type": "string", "format": "uri", "x-nullable": true}, "previous": {"type": "string", "format": "uri", "x-nullable": true}, "results": {"type": "array", "items": {"$ref": "#/definitions/Rating"}}}}}}, "tags": ["orders"]}, "post": {"operationId": "orders_rating_create", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Rating"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/Rating"}}}, "tags": ["orders"]}, "parameters": [{"name": "order_id", "in": "path", "required": true, "type": "string"}]}, "/orders/{order_id}/rating/{id}/": {"get": {"operationId": "orders_rating_read", "description": "", "parameters": [], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Rating"}}}, "tags": ["orders"]}, "put": {"operationId": "orders_rating_update", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Rating"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Rating"}}}, "tags": ["orders"]}, "patch": {"operationId": "orders_rating_partial_update", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Rating"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Rating"}}}, "tags": ["orders"]}, "delete": {"operationId": "orders_rating_delete", "description": "", "parameters": [], "responses": {"204": {"description": ""}}, "tags": ["orders"]}, "parameters": [{"name": "order_id", "in": "path", "required": true, "type": "string"}, {"name": "id", "in": "path", "description": "A unique integer value identifying this rating.", "required": true, "type": "integer"}]}, "/ratings/": {"get": {"operationId": "ratings_list", "description": "", "parameters": [{"name": "page", "in": "query", "description": "A page number within the paginated result set.", "required": false, "type": "integer"}], "responses": {"200": {"description": "", "schema": {"required": ["count", "results"], "type": "object", "properties": {"count": {"type": "integer"}, "next": {"type": "string", "format": "uri", "x-nullable": true}, "previous": {"type": "string", "format": "uri", "x-nullable": true}, "results": {"type": "array", "items": {"$ref": "#/definitions/Rating"}}}}}}, "tags": ["ratings"]}, "post": {"operationId": "ratings_create", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Rating"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/Rating"}}}, "tags": ["ratings"]}, "parameters": []}, "/ratings/{id}/": {"get": {"operationId": "ratings_read", "description": "", "parameters": [], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Rating"}}}, "tags": ["ratings"]}, "put": {"operationId": "ratings_update", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Rating"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Rating"}}}, "tags": ["ratings"]}, "patch": {"operationId": "ratings_partial_update", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Rating"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Rating"}}}, "tags": ["ratings"]}, "delete": {"operationId": "ratings_delete", "description": "", "parameters": [], "responses": {"204": {"description": ""}}, "tags": ["ratings"]}, "parameters": [{"name": "id", "in": "path", "description": "A unique integer value identifying this rating.", "required": true, "type": "integer"}]}, "/users/": {"get": {"operationId": "users_list", "description": "", "parameters": [{"name": "page", "in": "query", "description": "A page number within the paginated result set.", "required": false, "type": "integer"}], "responses": {"200": {"description": "", "schema": {"required": ["count", "results"], "type": "object", "properties": {"count": {"type": "integer"}, "next": {"type": "string", "format": "uri", "x-nullable": true}, "previous": {"type": "string", "format": "uri", "x-nullable": true}, "results": {"type": "array", "items": {"$ref": "#/definitions/CustomUser"}}}}}}, "tags": ["users"]}, "post": {"operationId": "users_create", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/UserCreate"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/UserCreate"}}}, "tags": ["users"]}, "parameters": []}, "/users/activation/": {"post": {"operationId": "users_activation", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Activation"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/Activation"}}}, "tags": ["users"]}, "parameters": []}, "/users/me/": {"get": {"operationId": "users_me_read", "description": "", "parameters": [{"name": "page", "in": "query", "description": "A page number within the paginated result set.", "required": false, "type": "integer"}], "responses": {"200": {"description": "", "schema": {"required": ["count", "results"], "type": "object", "properties": {"count": {"type": "integer"}, "next": {"type": "string", "format": "uri", "x-nullable": true}, "previous": {"type": "string", "format": "uri", "x-nullable": true}, "results": {"type": "array", "items": {"$ref": "#/definitions/User"}}}}}}, "tags": ["users"]}, "put": {"operationId": "users_me_update", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/User"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/User"}}}, "tags": ["users"]}, "patch": {"operationId": "users_me_partial_update", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/User"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/User"}}}, "tags": ["users"]}, "delete": {"operationId": "users_me_delete", "description": "", "parameters": [], "responses": {"204": {"description": ""}}, "tags": ["users"]}, "parameters": []}, "/users/resend_activation/": {"post": {"operationId": "users_resend_activation", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/SendEmailReset"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/SendEmailReset"}}}, "tags": ["users"]}, "parameters": []}, "/users/reset_email/": {"post": {"operationId": "users_reset_username", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/SendEmailReset"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/SendEmailReset"}}}, "tags": ["users"]}, "parameters": []}, "/users/reset_email_confirm/": {"post": {"operationId": "users_reset_username_confirm", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/UsernameResetConfirm"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/UsernameResetConfirm"}}}, "tags": ["users"]}, "parameters": []}, "/users/reset_password/": {"post": {"operationId": "users_reset_password", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/SendEmailReset"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/SendEmailReset"}}}, "tags": ["users"]}, "parameters": []}, "/users/reset_password_confirm/": {"post": {"operationId": "users_reset_password_confirm", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/PasswordResetConfirm"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/PasswordResetConfirm"}}}, "tags": ["users"]}, "parameters": []}, "/users/set_email/": {"post": {"operationId": "users_set_username", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/SetUsername"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/SetUsername"}}}, "tags": ["users"]}, "parameters": []}, "/users/set_password/": {"post": {"operationId": "users_set_password", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/SetPassword"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/SetPassword"}}}, "tags": ["users"]}, "parameters": []}, "/users/{id}/": {"get": {"operationId": "users_read", "description": "", "parameters": [], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/CustomUser"}}}, "tags": ["users"]}, "put": {"operationId": "users_update", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/CustomUser"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/CustomUser"}}}, "tags": ["users"]}, "patch": {"operationId": "users_partial_update", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/CustomUser"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/CustomUser"}}}, "tags": ["users"]}, "delete": {"operationId": "users_delete", "description": "", "parameters": [], "responses": {"204": {"description": ""}}, "tags": ["users"]}, "parameters": [{"name": "id", "in": "path", "description": "A unique integer value identifying this Пользователь.", "required": true, "type": "integer"}]}, "/users/{id}/orders/": {"get": {"operationId": "users_orders", "description": "", "parameters": [], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/CustomUser"}}}, "tags": ["users"]}, "parameters": [{"name": "id", "in": "path", "description": "A unique integer value identifying this Пользователь.", "required": true, "type": "integer"}]}}, "definitions": {"TokenCreate": {"type": "object", "properties": {"password": {"title": "Password", "type": "string", "minLength": 1}, "email": {"title": "Email", "type": "string", "minLength": 1}}}, "CustomUser": {"required": ["email"], "type": "object", "properties": {"id": {"title": "ID", "type": "integer", "readOnly": true}, "first_name": {"title": "Имя", "type": "string", "maxLength": 256}, "email": {"title": "Адрес электронной почты", "type": "string", "format": "email", "maxLength": 254, "minLength": 1}, "phone": {"title": "Номер телефона", "type": "string", "maxLength": 128}, "adress": {"title": "Услуги", "type": "integer", "x-nullable": true}}}, "Adress": {"required": ["city", "street", "house"], "type": "object", "properties": {"id": {"title": "ID", "type": "integer", "readOnly": true}, "city": {"title": "Город", "type": "string", "maxLength": 256, "minLength": 1}, "street": {"title": "Улица", "type": "string", "maxLength": 256, "minLength": 1}, "house": {"title": "Дом", "type": "integer", "maximum": 2147483647, "minimum": -2147483648}, "apartment": {"title": "Квартира", "type": "integer", "maximum": 2147483647, "minimum": -2147483648, "x-nullable": true}, "floor": {"title": "Этаж", "type": "integer", "maximum": 2147483647, "minimum": -2147483648, "x-nullable": true}, "entrance": {"title": "Подъезд", "type": "integer", "maximum": 2147483647, "minimum": -2147483648, "x-nullable": true}}}, "Service_package": {"type": "object", "properties": {"title": {"title": "Название", "type": "string", "enum": ["maintenance", "general", "repair", "holiday", "windows"]}, "price": {"title": "Сумма", "type": "integer", "maximum": 2147483647, "minimum": -2147483648}}}, "GetOrder": {"required": ["cleaning_date", "cleaning_time"], "type": "object", "properties": {"id": {"title": "ID", "type": "integer", "readOnly": true}, "user": {"$ref": "#/definitions/CustomUser"}, "adress": {"$ref": "#/definitions/Adress"}, "service_package": {"$ref": "#/definitions/Service_package"}, "total_sum": {"title": "Сумма", "type": "integer", "maximum": 2147483647, "minimum": -2147483648}, "comment": {"title": "Комментарий", "type": "string", "x-nullable": true}, "order_status": {"title": "Статус", "type": "string", "enum": ["created", "accepted", "finished", "cancelled"]}, "pay_status": {"title": "Pay status", "type": "boolean"}, "creation_date": {"title": "Дата создания", "type": "string", "format": "date", "readOnly": true}, "creation_time": {"title": "Время создания", "type": "string", "readOnly": true}, "cleaning_date": {"title": "Дата уборки", "type": "string", "format": "date"}, "cleaning_time": {"title": "Время уборки", "type": "string"}}}, "Rating": {"required": ["text"], "type": "object", "properties": {"id": {"title": "ID", "type": "integer", "readOnly": true}, "user": {"$ref": "#/definitions/CustomUser"}, "pub_date": {"title": "Дата отзыва", "type": "string", "format": "date-time", "readOnly": true}, "text": {"title": "Текст отзыва", "type": "string", "minLength": 1}, "score": {"title": "Оценка", "type": "integer", "maximum": 5, "minimum": 1}, "order": {"title": "Название", "type": "integer", "readOnly": true}}}, "UserCreate": {"required": ["email", "password"], "type": "object", "properties": {"email": {"title": "Адрес электронной почты", "type": "string", "format": "email", "maxLength": 254, "minLength": 1}, "id": {"title": "ID", "type": "integer", "readOnly": true}, "password": {"title": "Password", "type": "string", "minLength": 1}}}, "Activation": {"required": ["uid", "token"], "type": "object", "properties": {"uid": {"title": "Uid", "type": "string", "minLength": 1}, "token": {"title": "Token", "type": "string", "minLength": 1}}}, "User": {"type": "object", "properties": {"id": {"title": "ID", "type": "integer", "readOnly": true}, "email": {"title": "Адрес электронной почты", "type": "string", "format": "email", "readOnly": true, "minLength": 1}}}, "SendEmailReset": {"required": ["email"], "type": "object", "properties": {"email": {"title": "Email", "type": "string", "format": "email", "minLength": 1}}}, "UsernameResetConfirm": {"required": ["new_email"], "type": "object", "properties": {"new_email": {"title": "Адрес электронной почты", "type": "string", "format": "email", "maxLength": 254, "minLength": 1}}}, "PasswordResetConfirm": {"required": ["uid", "token", "new_password"], "type": "object", "properties": {"uid": {"title": "Uid", "type": "string", "minLength": 1}, "token": {"title": "Token", "type": "string", "minLength": 1}, "new_password": {"title": "New password", "type": "string", "minLength": 1}}}, "SetUsername": {"required": ["current_password", "new_email"], "type": "object", "properties": {"current_password": {"title": "Current password", "type": "string", "minLength": 1}, "new_email": {"title": "Адрес электронной почты", "type": "string", "format": "email", "maxLength": 254, "minLength": 1}}}, "SetPassword": {"required": ["new_password", "current_password"], "type": "object", "properties": {"new_password": {"title": "New password", "type": "string", "minLength": 1}, "current_password": {"title": "Current password", "type": "string", "minLength": 1}}}}}